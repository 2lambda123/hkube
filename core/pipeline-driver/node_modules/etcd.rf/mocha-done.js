
let doneCounter = 0;
let callDone = () => {
    doneCounter = doneCounter + 1;
    //  console.log(`callDone:${doneCounter}`);
}

let done = (options = { millisecond: 10, doneAmount: 1 }) => {
    return new Promise((resolve, reject) => {
        let intervalId = setInterval(() => {
            if (doneCounter >= options.doneAmount) {
                //isDone = false;
                doneCounter = 0;
                clearInterval(intervalId);
                resolve();
            }
        }, options.millisecond);
    });


}


module.exports = {
    callDone,
    done
};